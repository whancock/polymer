
<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="wh-gallery">

	<template>

		<style>
			.inner-image {
			  position: absolute;
			  padding-top: 10%;
			  padding-left: 10%;
			}

			.container {
				position: relative;
			}

		</style>

		<iron-ajax
			auto
			url="../data/photos.json"
			handle-as="json"
			on-response="responseHandler"></iron-ajax>

		<div class="container" style="margin: 40px; width: 70%; box-shadow: 0 0 10px #ccc;">
			<img style="max-width: 80%;" class="inner-image" src="/photos/{{photo}}" />
			<img style="max-width: 100%; position: absolute;" src="/images/frame_sm.png" />
		</div>

	</template>

	<script>

		Polymer({

			is: 'wh-gallery',

			responseHandler: function(e, data) {

				this.photos = data.xhr.response;
				this.photo = this.randomImage(this.photos);

			},

			randomImage: function(photos) {
				return photos[Math.floor(Math.random()*photos.length)];
			},

		});

	</script>

</dom-module>
